{"ast":null,"code":"import _objectSpread from \"/home/fernando/Documents/Projects/Impacta_React/site/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/fernando/Documents/Projects/Impacta_React/site/src/paginas/curso/cadastro.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { FormCurso } from './form';\nimport { ListCurso } from './list';\nconst URL = 'http://localhost:3200/api/cursos';\nexport class CadastroCurso extends Component {\n  trataSucesso(e, msg) {\n    this.limpar(e);\n    this.listar();\n    alert(msg);\n  }\n\n  trataErro(error, msg) {\n    console.log(error);\n    alert(msg);\n  }\n\n  limpar(e) {\n    if (e) {\n      e.preventDefault();\n    }\n\n    this.setState(this.initialState);\n  }\n\n  constructor(props) {\n    super(props);\n    this.initialState = {\n      _id: null,\n      codigo: '',\n      descricao: '',\n      cargaHoraria: '',\n      preco: '',\n      categoria: 'ENGENHARIA'\n    };\n    this.state = _objectSpread({}, this.initialState, {\n      cursos: []\n    });\n    this.listar();\n  }\n  /* listar = async () => {\n      try{\n          const response = await axios.get(URL)\n          this.setState({cursos: response.data})\n  } catch(erro){\n      console.log(erro)\n  }\n  } */\n\n\n  listar() {\n    axios.get(URL).then(response => {\n      this.setState({\n        cursos: response.data\n      });\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  codigoChange(e) {\n    this.setState({\n      codigo: e.target.value\n    });\n  }\n\n  descricaoChange(e) {\n    this.setState({\n      descricao: e.target.value\n    });\n  }\n\n  cargaChange(e) {\n    this.setState({\n      cargaHoraria: e.target.value\n    });\n  }\n\n  precoChange(e) {\n    this.setState({\n      preco: e.target.value\n    });\n  }\n\n  categoriaChange(e) {\n    this.setState({\n      categoria: e.target.value\n    });\n  }\n\n  registrarCurso(e) {\n    e.preventDefault();\n    const _this$state = this.state,\n          _id = _this$state._id,\n          codigo = _this$state.codigo,\n          descricao = _this$state.descricao,\n          cargaHoraria = _this$state.cargaHoraria,\n          preco = _this$state.preco,\n          categoria = _this$state.categoria;\n    const body = {\n      _id,\n      codigo,\n      descricao,\n      cargaHoraria,\n      preco,\n      categoria\n    };\n\n    if (_id) {\n      axios.put(`${URL}/${_id}`, body).then(_ => {\n        alert('Curso atualizado!');\n        this.listar();\n        this.limpar();\n      }).catch(erro => {\n        console.log(erro);\n      });\n    } else {\n      axios.post(URL, body).then(response => {\n        alert('Curso Adicionado com sucesso!');\n        this.listar();\n        this.limpar();\n      }).catch(erro => {\n        console.log(erro);\n      });\n    }\n  }\n\n  removerCurso(curso) {\n    if (window.confirm('Deseja realmente deletar este curso ?')) {\n      axios.delete(`${URL}/${curso._id}`).then(_ => {\n        alert('Curso deletado com sucesso!');\n        this.listar();\n      }).catch(error => {\n        console.log(error);\n        alert('Ocorreu um erro ao deletar o curso!');\n      });\n    }\n  }\n\n  consultarCurso(curso) {\n    this.setState({\n      _id: curso._id,\n      codigo: curso.codigo,\n      descricao: curso.descricao,\n      cargaHoraria: curso.cargaHoraria,\n      preco: curso.preco,\n      categoria: curso.categoria\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"row border-bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(FormCurso, {\n      codigo: this.state.codigo,\n      codigoChange: this.codigoChange.bind(this),\n      descricao: this.state.descricao,\n      descricaoChange: this.descricaoChange.bind(this),\n      carga: this.state.cargaHoraria,\n      cargaChange: this.cargaChange.bind(this),\n      preco: this.state.preco,\n      precoChange: this.precoChange.bind(this),\n      categoria: this.state.categoria,\n      categoriaChange: this.categoriaChange.bind(this),\n      adicionarCurso: this.registrarCurso.bind(this),\n      limparCampos: this.limpar.bind(this),\n      isUpdate: this.state._id ? true : false,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(ListCurso, {\n      cursos: this.state.cursos,\n      removerCurso: this.removerCurso.bind(this),\n      consultarCurso: this.consultarCurso.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["/home/fernando/Documents/Projects/Impacta_React/site/src/paginas/curso/cadastro.js"],"names":["React","Component","axios","FormCurso","ListCurso","URL","CadastroCurso","trataSucesso","e","msg","limpar","listar","alert","trataErro","error","console","log","preventDefault","setState","initialState","constructor","props","_id","codigo","descricao","cargaHoraria","preco","categoria","state","cursos","get","then","response","data","catch","codigoChange","target","value","descricaoChange","cargaChange","precoChange","categoriaChange","registrarCurso","body","put","_","erro","post","removerCurso","curso","window","confirm","delete","consultarCurso","render","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\nimport { FormCurso } from './form'\nimport { ListCurso } from './list'\n\nconst URL = 'http://localhost:3200/api/cursos'\n\nexport class CadastroCurso extends Component {\n    initialState = {\n        _id: null,\n        codigo: '',\n        descricao: '',\n        cargaHoraria: '',\n        preco: '',\n        categoria: 'ENGENHARIA'\n    }\n    \n    state = {...this.initialState, cursos: []}\n\n    trataSucesso(e, msg){\n        this.limpar(e)\n        this.listar()\n        alert(msg)\n    }\n    \n    trataErro(error, msg){\n        console.log(error)\n        alert(msg)\n    }\n\n    limpar(e){\n        if(e){\n            e.preventDefault()\n        }\n        this.setState(this.initialState)\n    }\n\n    constructor(props){\n        super(props)\n        this.listar()\n    }\n\n    /* listar = async () => {\n        try{\n            const response = await axios.get(URL)\n            this.setState({cursos: response.data})\n    } catch(erro){\n        console.log(erro)\n    }\n} */\n\n    listar(){\n        axios.get(URL).then(response => {\n            this.setState({cursos : response.data})\n        }).catch(error => {\n            console.log(error)\n        })\n    \n    }\n\n    codigoChange(e){\n        this.setState({codigo: e.target.value})\n    }\n\n    descricaoChange(e){\n        this.setState({descricao: e.target.value})\n    }\n\n    cargaChange(e){\n        this.setState({cargaHoraria: e.target.value})\n    }\n    \n    precoChange(e){\n        this.setState({preco: e.target.value})\n    }\n\n    categoriaChange(e){\n        this.setState({categoria: e.target.value})\n    }\n\n    registrarCurso(e){\n        e.preventDefault()\n        const {_id, codigo, descricao, cargaHoraria, preco, categoria} = this.state\n        const body = {_id, codigo, descricao, cargaHoraria, preco, categoria}\n        if(_id){\n            axios.put(`${URL}/${_id}`, body).then(_ => {\n                alert('Curso atualizado!')\n                this.listar()\n                this.limpar()\n            }).catch(erro => {\n                console.log(erro)\n            })\n        }else{\n            axios.post(URL, body).then(response => {\n                alert('Curso Adicionado com sucesso!')\n                this.listar()\n                this.limpar()\n            }).catch(erro => {\n                console.log(erro)\n            })\n        }\n    }\n    removerCurso(curso){\n        if(window.confirm('Deseja realmente deletar este curso ?')){\n            axios.delete(`${URL}/${curso._id}`)\n            .then(_ => {\n                alert('Curso deletado com sucesso!')\n                this.listar()\n            })\n            .catch(error => {\n                console.log(error)\n                alert('Ocorreu um erro ao deletar o curso!')\n            })\n        }\n    }\n    consultarCurso(curso){\n        this.setState({\n            _id: curso._id,\n            codigo: curso.codigo,\n            descricao: curso.descricao,\n            cargaHoraria: curso.cargaHoraria,\n            preco: curso.preco,\n            categoria: curso.categoria\n        })\n    }\n\n    render() {\n        return (\n            <div className=\"row border-bottom\">\n                <div className=\"col-md-6\">\n                    <FormCurso \n                    codigo={this.state.codigo}\n                    codigoChange={this.codigoChange.bind(this)}\n                    descricao={this.state.descricao}\n                    descricaoChange={this.descricaoChange.bind(this)}\n                    carga={this.state.cargaHoraria}\n                    cargaChange={this.cargaChange.bind(this)}\n                    preco={this.state.preco}\n                    precoChange={this.precoChange.bind(this)}\n                    categoria={this.state.categoria}\n                    categoriaChange={this.categoriaChange.bind(this)}\n                    adicionarCurso={this.registrarCurso.bind(this)}\n                    limparCampos={this.limpar.bind(this)}\n                    isUpdate={this.state._id ? true : false}/>\n                </div>\n                <div className=\"col-md-6\">\n                    <ListCurso cursos={this.state.cursos}\n                    removerCurso={this.removerCurso.bind(this)}\n                    consultarCurso={this.consultarCurso.bind(this)}/>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}